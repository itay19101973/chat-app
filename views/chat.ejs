<!DOCTYPE html>
<html lang="en">
<%- include('includes/head') %>
<body class="bg-light">
<%- include('includes/navigation') %>
<div class="container mt-5">
    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="card shadow-sm">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h2 class="mb-0">Welcome <%= userName %></h2>
                    <a href="/logout" class="btn btn-outline-secondary btn-sm">Logout</a>
                </div>
                <div class="card-body">
                    <!-- Search Form -->
                    <div class="search-section mb-4">
                        <form id="searchForm" class="mb-3">
                            <div class="input-group">
                                <input
                                        type="text"
                                        class="form-control"
                                        id="searchInput"
                                        placeholder="Search messages..."
                                >
                                <button type="submit" class="btn btn-secondary">Search</button>
                                <button type="button" id="clearSearch" class="btn btn-outline-secondary">Clear</button>
                            </div>
                        </form>
                        <div id="searchResults" class="d-none">
                            <h6 class="border-bottom pb-2">Search Results</h6>
                            <div class="search-results-container" style="max-height: 200px; overflow-y: auto;">
                            </div>
                        </div>
                    </div>

                    <!-- Messages Container -->
                    <div class="messages-container mb-4" style="height: 400px; overflow-y: auto;">


                    </div>

                    <!-- Message Input Form -->
                    <form id="messageForm" class="mt-3">
                        <div class="input-group">
                            <input
                                    type="text"
                                    class="form-control"
                                    name="message"
                                    placeholder="Type your message..."
                                    required
                            >
                            <button type="submit" class="btn btn-primary">Send</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Auto-scroll to bottom of messages -->
<script src="/javascripts/messages.js"></script>

</body>
</html>